<div role="tabpanel" aria-labelledby="tabSearchHistory" *featureFlag="'S22_search_history.fe'; else searchHistoryTemplate">
    <ul class="search-history">
        <li class="row" *ngFor="let item of groupedSearchHistory | keyvalueOrder">
            <div class="col">
                {{ item.key }}
            </div>
            <div class="col-md-10">
                <a *ngFor="let query of item.value"
                    class="btn btn-outline-primary btn-sm"
                    [routerLink]="[
                    (query.params.category === '2' || query.params.category === '3') ? ('/' | localize) + '/' + routerEndpoints.KNOWLEDGE_BASE : '/' | localize,
                    !query.params.category ? query.resource :
                        query.params.category === '2' ? 'help' : query.params.category === '3' ? routerEndpoints.EDUCATION : routerEndpoints.ARTICLES
                    ]"
                    [queryParams]="query.params">
                    {{ query.sentence }}
                </a>
            </div>
        </li>
    </ul>
</div>

<ng-template #searchHistoryTemplate>
    <div role="tabpanel" aria-labelledby="tabSearchHistory">
        <ul class="search-history">
            <li class="row" *ngFor="let key of searchHistory.keys()">
                <div class="col">
                    {{ key }}
                </div>
                <div class="col-md-10">
                    <a *ngFor="let query of searchHistory[key]"
                    class="btn btn-outline-primary btn-sm"
                    [routerLink]="[
                    (query.params.category === '2' || query.params.category === '3') ? ('/' | localize) + '/' + routerEndpoints.KNOWLEDGE_BASE : '/' | localize,
                    !query.params.category ? query.resource :
                        query.params.category === '2' ? 'help' : query.params.category === '3' ? routerEndpoints.EDUCATION : routerEndpoints.ARTICLES
                    ]"
                    [queryParams]="query?.params">
                        {{ query?.attributes?.query_sentence }}
                    </a>
                </div>
            </li>
        </ul>
    </div>
</ng-template>
